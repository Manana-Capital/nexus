{"swagger":"2.0","info":{"version":"v1","title":"Ma√±ana Capital - Nexus","contact":{"url":"http://manana.capital","email":"info@manana.capital"}},"paths":{"/api/backgroundtasks/update-tasks":{"post":{"tags":["BackgroundTasks"],"operationId":"ApiBackgroundTasksUpdate-tasksPost","consumes":[],"produces":[],"parameters":[],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients":{"get":{"tags":["Clients"],"operationId":"ApiClientsGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/FundClient"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients/with-transactions":{"get":{"tags":["Clients"],"operationId":"ApiClientsWith-transactionsGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/FundClient"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients/deposits":{"get":{"tags":["Clients"],"operationId":"ApiClientsDepositsGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"fundId","in":"query","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ClientDeposit"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]},"post":{"tags":["Clients"],"operationId":"ApiClientsDepositsPost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"deposit","in":"body","required":false,"schema":{"$ref":"#/definitions/DepositDto"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/DepositDto"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients/withdrawals":{"get":{"tags":["Clients"],"operationId":"ApiClientsWithdrawalsGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"fundId","in":"query","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ClientWithdrawal"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]},"post":{"tags":["Clients"],"operationId":"ApiClientsWithdrawalsPost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"withdrawal","in":"body","required":false,"schema":{"$ref":"#/definitions/WithdrawalDto"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/WithdrawalDto"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients/shares-count":{"get":{"tags":["Clients"],"operationId":"ApiClientsShares-countGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"fundId","in":"query","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"format":"double","type":"number"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients/shares/transfer":{"post":{"tags":["Clients"],"operationId":"ApiClientsSharesTransferPost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"transfer","in":"body","required":false,"schema":{"$ref":"#/definitions/TransferSharesDto"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/TransferSharesDto"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients/change-username-password":{"post":{"tags":["Clients"],"operationId":"ApiClientsChange-username-passwordPost","consumes":[],"produces":[],"parameters":[{"name":"clientId","in":"query","required":false,"type":"integer","format":"int32"},{"name":"newUsername","in":"query","required":false,"type":"string"},{"name":"newPassword","in":"query","required":false,"type":"string"}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/clients/change-roles":{"post":{"tags":["Clients"],"operationId":"ApiClientsChange-rolesPost","consumes":[],"produces":[],"parameters":[{"name":"clientId","in":"query","required":false,"type":"integer","format":"int32"},{"name":"roles","in":"query","required":false,"type":"array","items":{"type":"string"},"collectionFormat":"multi","uniqueItems":false}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/funds":{"get":{"tags":["Funds"],"operationId":"ApiFundsGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/FundSimpleInfo"}}}}},"post":{"tags":["Funds"],"operationId":"ApiFundsPost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"newFund","in":"body","required":false,"schema":{"$ref":"#/definitions/NewFundDto"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/FundSimpleInfo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/funds/complex":{"get":{"tags":["Funds"],"operationId":"ApiFundsComplexGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/FundInfo"}}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/api/funds/complex/{fundid}":{"get":{"tags":["Funds"],"operationId":"ApiFundsComplexByFundidGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"fundid","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/FundInfo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/api/funds/assign-connector":{"post":{"tags":["Funds"],"operationId":"ApiFundsAssign-connectorPost","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":[],"parameters":[{"name":"fundConnector","in":"body","required":false,"schema":{"$ref":"#/definitions/FundConnectorDto"}}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/portfolio":{"get":{"tags":["Portfolio"],"operationId":"ApiPortfolioGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PortfolioInfo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/profile":{"get":{"tags":["Profile"],"operationId":"ApiProfileGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ProfileInfoDto"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]},"put":{"tags":["Profile"],"operationId":"ApiProfilePut","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"dto","in":"body","required":false,"schema":{"$ref":"#/definitions/UpdateProfileDto"}}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ProfileInfoDto"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/profile/{clientid}":{"get":{"tags":["Profile"],"operationId":"ApiProfileByClientidGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"clientid","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/ProfileInfoDto"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/profile/change-password":{"put":{"tags":["Profile"],"operationId":"ApiProfileChange-passwordPut","consumes":["application/json-patch+json","application/json","text/json","application/*+json"],"produces":[],"parameters":[{"name":"dto","in":"body","required":false,"schema":{"$ref":"#/definitions/UpdateProfilePasswordDto"}}],"responses":{"200":{"description":"Success"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/shares":{"get":{"tags":["Shares"],"operationId":"ApiSharesGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"fundId","in":"query","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/SharesSimpleInfo"}},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}},"security":[{"oauth2":["nexus"]}]}},"/api/shares/price-per-day":{"get":{"tags":["Shares"],"operationId":"ApiSharesPrice-per-dayGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"fundId","in":"query","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/PricePerShare"}}}}}},"/api/shares/price-latest":{"get":{"tags":["Shares"],"operationId":"ApiSharesPrice-latestGet","consumes":[],"produces":["text/plain","application/json","text/json"],"parameters":[{"name":"fundId","in":"query","required":false,"type":"integer","format":"int32"}],"responses":{"200":{"description":"Success","schema":{"$ref":"#/definitions/PricePerShare"}}}}}},"definitions":{"FundClient":{"type":"object","properties":{"fundClientId":{"format":"int32","type":"integer"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"registered":{"format":"date-time","type":"string"},"isSystem":{"type":"boolean"},"commisionPerc":{"format":"int32","type":"integer"},"username":{"type":"string"},"password":{"type":"string"},"roles":{"uniqueItems":false,"type":"array","items":{"type":"string"}},"deposits":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ClientDeposit"}},"withdrawals":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ClientWithdrawal"}}}},"ClientDeposit":{"type":"object","properties":{"clientDepositId":{"format":"int32","type":"integer"},"created":{"format":"date-time","type":"string"},"shares":{"format":"double","type":"number"},"amountUsd":{"format":"double","type":"number"},"amountBtc":{"format":"double","type":"number"},"amountCzk":{"format":"double","type":"number"},"note":{"type":"string"},"client":{"$ref":"#/definitions/FundClient"},"targetFund":{"$ref":"#/definitions/Fund"}}},"ClientWithdrawal":{"type":"object","properties":{"clientWithdrawalId":{"format":"int32","type":"integer"},"created":{"format":"date-time","type":"string"},"shares":{"format":"double","type":"number"},"amountUsd":{"format":"double","type":"number"},"amountBtc":{"format":"double","type":"number"},"amountCzk":{"format":"double","type":"number"},"note":{"type":"string"},"client":{"$ref":"#/definitions/FundClient"},"targetFund":{"$ref":"#/definitions/Fund"}}},"Fund":{"type":"object","properties":{"fundId":{"format":"int32","type":"integer"},"key":{"type":"string"},"displayName":{"type":"string"},"description":{"type":"string"},"owner":{"$ref":"#/definitions/FundClient"},"isPublic":{"type":"boolean"},"isDisabled":{"type":"boolean"},"isHidden":{"type":"boolean"},"isUnderConstruction":{"type":"boolean"},"checkCronInterval":{"type":"string"},"ordering":{"format":"int32","type":"integer"},"deposits":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ClientDeposit"}},"withdrawals":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/ClientWithdrawal"}},"connectors":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/Connector"}}}},"Connector":{"type":"object","properties":{"connectorId":{"format":"int32","type":"integer"},"exchangeName":{"type":"string"},"displayName":{"type":"string"},"configuration":{"type":"string"},"isDisabled":{"type":"boolean"},"targetFund":{"$ref":"#/definitions/Fund"},"balances":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/PortfolioBalance"}},"totalBalances":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/PortfolioTotalBalance"}}}},"PortfolioBalance":{"type":"object","properties":{"portfolioBalanceId":{"format":"int32","type":"integer"},"gathered":{"format":"date-time","type":"string"},"exchangeName":{"type":"string"},"amount":{"format":"double","type":"number"},"currency":{"type":"string"},"targetConnector":{"$ref":"#/definitions/Connector"},"targetFund":{"$ref":"#/definitions/Fund"}}},"PortfolioTotalBalance":{"type":"object","properties":{"portfolioTotalBalanceId":{"format":"int32","type":"integer"},"gathered":{"format":"date-time","type":"string"},"exchangeName":{"type":"string"},"amountUsd":{"format":"double","type":"number"},"amountBtc":{"format":"double","type":"number"},"amountCzk":{"format":"double","type":"number"},"shares":{"format":"double","type":"number"},"targetConnector":{"$ref":"#/definitions/Connector"},"targetFund":{"$ref":"#/definitions/Fund"}}},"DepositDto":{"type":"object","properties":{"clientId":{"format":"int32","type":"integer"},"targetFundId":{"format":"int32","type":"integer"},"created":{"format":"date-time","type":"string"},"shares":{"format":"double","type":"number"},"amountUsd":{"format":"double","type":"number"},"amountBtc":{"format":"double","type":"number"},"amountCzk":{"format":"double","type":"number"},"note":{"type":"string"},"preview":{"type":"boolean"}}},"WithdrawalDto":{"type":"object","properties":{"clientId":{"format":"int32","type":"integer"},"targetFundId":{"format":"int32","type":"integer"},"created":{"format":"date-time","type":"string"},"shares":{"format":"double","type":"number"},"amountUsd":{"format":"double","type":"number"},"amountBtc":{"format":"double","type":"number"},"amountCzk":{"format":"double","type":"number"},"note":{"type":"string"},"preview":{"type":"boolean"}}},"TransferSharesDto":{"type":"object","properties":{"fromClientId":{"format":"int32","type":"integer"},"toClientId":{"format":"int32","type":"integer"},"targetFundId":{"format":"int32","type":"integer"},"created":{"format":"date-time","type":"string"},"shares":{"format":"double","type":"number"},"amountUsd":{"format":"double","type":"number"},"amountBtc":{"format":"double","type":"number"},"amountCzk":{"format":"double","type":"number"},"note":{"type":"string"},"preview":{"type":"boolean"}}},"FundSimpleInfo":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"key":{"type":"string"},"displayName":{"type":"string"},"description":{"type":"string"},"owner":{"format":"int32","type":"integer"},"isPublic":{"type":"boolean"},"isDisabled":{"type":"boolean"},"isHidden":{"type":"boolean"},"isUnderConstruction":{"type":"boolean"},"checkCronInterval":{"type":"string"},"ordering":{"format":"int32","type":"integer"}}},"NewFundDto":{"type":"object","properties":{"key":{"type":"string"},"displayName":{"type":"string"},"description":{"type":"string"},"owner":{"format":"int32","type":"integer"},"isPublic":{"type":"boolean"},"isDisabled":{"type":"boolean"},"isHidden":{"type":"boolean"},"isUnderConstruction":{"type":"boolean"},"ordering":{"format":"int32","type":"integer"},"checkCronInterval":{"type":"string"}}},"FundInfo":{"type":"object","properties":{"pricePerShare":{"$ref":"#/definitions/FundPricePerShare"},"performance":{"$ref":"#/definitions/FundPerformance"},"ticks":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/FundPriceTick"}},"btcTicks":{"uniqueItems":false,"type":"array","items":{"$ref":"#/definitions/BtcPriceTick"}},"id":{"format":"int32","type":"integer"},"key":{"type":"string"},"displayName":{"type":"string"},"description":{"type":"string"},"owner":{"format":"int32","type":"integer"},"isPublic":{"type":"boolean"},"isDisabled":{"type":"boolean"},"isHidden":{"type":"boolean"},"isUnderConstruction":{"type":"boolean"},"checkCronInterval":{"type":"string"},"ordering":{"format":"int32","type":"integer"}}},"FundPricePerShare":{"type":"object","properties":{"priceBtc":{"format":"double","type":"number"},"priceUsd":{"format":"double","type":"number"},"priceCzk":{"format":"double","type":"number"}}},"FundPerformance":{"type":"object","properties":{"bigBang":{"format":"double","type":"number"},"currentYear":{"format":"double","type":"number"},"currentMonth":{"format":"double","type":"number"},"currentWeek":{"format":"double","type":"number"},"today":{"format":"double","type":"number"}}},"FundPriceTick":{"type":"object","properties":{"gathered":{"format":"date-time","type":"string"},"price":{"format":"double","type":"number"}}},"BtcPriceTick":{"type":"object","properties":{"timestamp":{"format":"date-time","type":"string"},"pricePerShare":{"format":"double","type":"number"},"open":{"format":"double","type":"number"},"close":{"format":"double","type":"number"},"high":{"format":"double","type":"number"},"low":{"format":"double","type":"number"},"volume":{"format":"double","type":"number"}}},"FundConnectorDto":{"type":"object","properties":{"targetFundId":{"format":"int32","type":"integer"},"exchangeName":{"type":"string"},"displayName":{"type":"string"},"configuration":{"type":"object"},"isDisabled":{"type":"boolean"}}},"PortfolioInfo":{"type":"object","properties":{"client":{"$ref":"#/definitions/ProfileInfoDto"},"activeFunds":{"format":"int32","type":"integer"},"totalFunds":{"format":"int32","type":"integer"},"accountAgeDays":{"format":"int32","type":"integer"},"totalProfit":{"format":"double","type":"number"},"totalAssetsUsd":{"format":"double","type":"number"},"totalAssetsBtc":{"format":"double","type":"number"},"totalAssetsCzk":{"format":"double","type":"number"}}},"ProfileInfoDto":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"registered":{"format":"date-time","type":"string"},"isSystem":{"type":"boolean"},"commisionPerc":{"format":"int32","type":"integer"},"username":{"type":"string"},"roles":{"uniqueItems":false,"type":"array","items":{"type":"string"}}}},"UpdateProfileDto":{"type":"object","properties":{"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"}}},"UpdateProfilePasswordDto":{"type":"object","properties":{"newUsername":{"type":"string"},"oldPassword":{"type":"string"},"newPassword":{"type":"string"},"newPasswordRepeat":{"type":"string"}}},"SharesSimpleInfo":{"type":"object","properties":{"targetFundId":{"format":"int32","type":"integer"},"pricePerShareBtc":{"format":"double","type":"number"},"pricePerShareUsd":{"format":"double","type":"number"},"pricePerShareCzk":{"format":"double","type":"number"},"sharesCount":{"format":"double","type":"number"}}},"PricePerShare":{"type":"object","properties":{"gathered":{"format":"date-time","type":"string"},"priceBtc":{"format":"double","type":"number"},"priceUsd":{"format":"double","type":"number"},"priceCzk":{"format":"double","type":"number"}}}},"securityDefinitions":{"oauth2":{"flow":"implicit","authorizationUrl":"/connect/authorize","tokenUrl":"/connect/token","scopes":{"nexus":"Nexus Default API"},"type":"oauth2"}}}
